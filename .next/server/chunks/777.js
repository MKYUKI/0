exports.id=777,exports.ids=[777],exports.modules={9777:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>MyApp});var n=t(997),s=t(6689),a=t.n(s),i=t(968),o=t.n(i),c=t(1664),l=t.n(c),d=t(1163),h=t(1649);t(6764);let components_SearchBar=()=>{let[e,r]=(0,s.useState)(""),[t,a]=(0,s.useState)(""),handleSearch=async()=>{if(e.trim())try{let r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}],temperature:.7,max_tokens:150,presence_penalty:0,frequency_penalty:0})}),t=await r.json(),n=t?.choices?.[0]?.message?.content||"No answer";a(n)}catch(e){console.error("Search error:",e),a("Error occurred")}};return(0,n.jsxs)("div",{style:{position:"relative"},children:[n.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:e=>r(e.target.value),onKeyDown:e=>{"Enter"===e.key&&handleSearch()},style:{padding:"6px 10px",borderRadius:"4px",border:"1px solid #ccc"}}),n.jsx("button",{onClick:handleSearch,style:{marginLeft:"8px",padding:"6px 10px",borderRadius:"4px",border:"none",backgroundColor:"#2187ff",color:"#fff",cursor:"pointer"},children:"Search"}),t&&n.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",right:0,backgroundColor:"#fff",color:"#000",padding:"8px",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:100,maxWidth:"300px"},children:t})]})};function NavBar(){return(0,n.jsxs)("header",{className:"navbar",style:{backgroundColor:"#000",color:"#fff",padding:"10px 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{className:"nav-left",children:[n.jsx(l(),{href:"/",className:"nav-link",style:{marginRight:"16px"},children:"Home"}),n.jsx(l(),{href:"/aichat",className:"nav-link",style:{marginRight:"16px"},children:"AI Chat"}),n.jsx(l(),{href:"/art",className:"nav-link",style:{marginRight:"16px"},children:"Art"}),n.jsx(l(),{href:"/excelvba",className:"nav-link",style:{marginRight:"16px"},children:"ExcelVBA"}),n.jsx(l(),{href:"/contact",className:"nav-link",style:{marginRight:"16px"},children:"Contact"})]}),n.jsx("div",{className:"nav-right",children:n.jsx(components_SearchBar,{})})]})}let ErrorBoundary=class ErrorBoundary extends a().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){console.error("[ErrorBoundary] Caught error:",e,r)}render(){return this.state.hasError?(0,n.jsxs)("div",{style:{color:"red",textAlign:"center",marginTop:"50px"},children:[n.jsx("h1",{children:"Something went wrong."}),n.jsx("p",{children:"Reload or contact support if the issue persists."})]}):this.props.children}};function MyApp({Component:e,pageProps:{session:r,...t}}){let a=(0,d.useRouter)();(0,s.useEffect)(()=>{console.log("[MyApp] mounted on client side.")});let i=a.asPath.startsWith("/login");return i?n.jsx(h.SessionProvider,{session:r,children:(0,n.jsxs)(ErrorBoundary,{children:[(0,n.jsxs)(o(),{children:[n.jsx("title",{children:"Cosmic Portal - Login"}),n.jsx("meta",{name:"description",content:"Log in with Google to enter the Cosmic Portal."}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),n.jsx(e,{...t})]})}):n.jsx(h.SessionProvider,{session:r,children:(0,n.jsxs)(ErrorBoundary,{children:[(0,n.jsxs)(o(),{children:[n.jsx("title",{children:"Cosmic Portal"}),n.jsx("meta",{name:"description",content:"A cosmic portal website."}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,n.jsxs)("div",{id:"app-wrapper",style:{minHeight:"100vh",background:"#000",color:"#fff"},children:[n.jsx(NavBar,{}),n.jsx("main",{id:"main-content",style:{padding:"20px"},children:n.jsx(e,{...t})}),n.jsx("footer",{id:"main-footer",style:{marginTop:"20px",padding:"10px",background:"#111",textAlign:"center"},children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Masaki Kusaka. All rights reserved."]})})]})]})})}},6764:()=>{}};