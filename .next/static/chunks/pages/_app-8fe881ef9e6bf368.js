(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6840:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(799)}])},799:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var s=t(5893),a=t(7294),r=t(9008),o=t.n(r),i=t(4298),l=t.n(i);function c(e){let{role:n,content:t}=e;return(0,s.jsx)("div",{className:"message-bubble ".concat(n),children:t})}function d(){let[e,n]=(0,a.useState)([]),[t,r]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),l=(0,a.useRef)(null),d=()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{d()},[e]);let u=async()=>{if(!t.trim())return;let s={role:"user",content:t.trim()};n(e=>[...e,s]),r(""),i(!0);try{var a,o,l;let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4",messages:[...e,s]})}),r=await t.json(),c=(null==r?void 0:null===(l=r.choices)||void 0===l?void 0:null===(o=l[0])||void 0===o?void 0:null===(a=o.message)||void 0===a?void 0:a.content)||"",d="",u=0,v=setInterval(()=>{u<c.length?(d+=c.charAt(u++),n(e=>{let n=e[e.length-1];return n&&"assistant"===n.role?[...e.slice(0,-1),{role:"assistant",content:d}]:[...e,{role:"assistant",content:d}]})):(clearInterval(v),i(!1))},20)}catch(e){console.error(e),i(!1)}};return(0,s.jsxs)("div",{className:"chat-container",children:[(0,s.jsxs)("div",{className:"messages-window",children:[e.map((e,n)=>(0,s.jsx)(c,{role:e.role,content:e.content},n)),(0,s.jsx)("div",{ref:l})]}),(0,s.jsxs)("div",{className:"input-container",children:[(0,s.jsx)("textarea",{placeholder:"Type your message...",value:t,onChange:e=>r(e.target.value),disabled:o}),(0,s.jsx)("button",{onClick:u,disabled:o||!t.trim(),children:o?"Thinking...":"Send"})]})]})}function u(e){let{Component:n,pageProps:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Quantum GPT Clone: Worldâ€™s Most Advanced Transformer"}),(0,s.jsx)("meta",{name:"description",content:"A GPT-4.0 based ChatGPT clone with advanced 3D animations + Attention synergy."})]}),(0,s.jsx)(l(),{src:"/js/quantum3D.js",strategy:"beforeInteractive",onError:e=>console.error("Failed to load quantum3D.js",e)}),(0,s.jsx)(l(),{src:"/js/starsAnim.js",strategy:"beforeInteractive",onError:e=>console.error("Failed to load starsAnim.js",e)}),(0,s.jsx)(l(),{src:"/js/waveAnim.js",strategy:"beforeInteractive",onError:e=>console.error("Failed to load waveAnim.js",e)}),(0,s.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0},children:[(0,s.jsx)("canvas",{id:"bg-canvas",className:"bg-canvas-layer"}),(0,s.jsx)("canvas",{id:"stars-canvas",className:"bg-canvas-layer"}),(0,s.jsx)("canvas",{id:"wave-canvas",className:"bg-canvas-layer"})]}),(0,s.jsx)("div",{style:{position:"relative",zIndex:1,minHeight:"100vh"},children:(0,s.jsx)(n,{...t})}),(0,s.jsx)("footer",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"#f0f0f0",boxShadow:"0 -2px 5px rgba(0,0,0,0.1)",zIndex:10},children:(0,s.jsx)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:(0,s.jsx)(d,{})})})]})}t(7130),t(2547)},7130:function(){},2547:function(){},9008:function(e,n,t){e.exports=t(3902)},4298:function(e,n,t){e.exports=t(4294)}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[774,179],function(){return n(6840),n(1247)}),_N_E=e.O()}]);